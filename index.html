<!-- Página principal de YourTime - Landing Page -->
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>YourTime — Reserva en comercios locales</title>
    <meta name="description" content="YourTime - Reservas en comercios locales con geolocalización y franjas horarias personalizadas." />

    <!-- Tailwind Play CDN (prototipo rápido) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Configuración rápida de Tailwind en el navegador (solo para prototipo)
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#002147',
              accent: '#FBB03B'
            }
          }
        }
      }
    </script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- Estilos personalizados (usa clases Tailwind) -->
    <link rel="stylesheet" href="public/styles.css" />
  </head>
  <body class="antialiased text-slate-800 bg-white">
    <!-- Navbar z-[5000] para estar sobre el mapa  -->
    <header class="bg-white border-b z-[5000] relative">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center gap-6">
            <a href="#" class="flex items-center" aria-label="YourTime">
              <!-- Logo más grande: solo imagen. Responsive: móvil->lg -->
              <img src="img/logopng.png" alt="YourTime" class="w-16 h-16 md:w-20 md:h-20 lg:w-28 lg:h-28 xl:w-32 xl:h-32 object-contain rounded-md" />
            </a>
            <nav class="hidden md:flex items-center gap-4 text-sm">
              <a href="#mapa" class="text-slate-600 hover:text-primary">Mapa</a>
              <a href="tiendas.html" class="text-slate-600 hover:text-primary">Tiendas</a>
              <a href="about.html" class="text-slate-600 hover:text-primary">Nosotros</a>
            </nav>
          </div>
          <div class="flex items-center gap-3">
            <div id="userStatus" class="text-sm text-slate-600 hidden md:block">No has iniciado sesión</div>
            <button id="btnSoyComercio" class="bg-accent text-white px-4 py-2 rounded hover:brightness-95 font-semibold">Soy un Comercio</button>
            <button id="btnLogin" class="bg-transparent border border-primary text-primary px-4 py-1 rounded hover:bg-primary/5">Iniciar Sesión</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Carousel (full width) -->
    <div id="heroCarousel" class="w-full h-80 overflow-hidden relative transition-all duration-500">
      <div class="carousel-track w-full h-full relative">
        <div class="carousel-slide absolute inset-0 bg-cover bg-center" style="background-image:url(img/bizcocho.jpg)">
          <div class="w-full h-full bg-black/30 flex items-end">
            <div class="p-6 text-white">
              <h2 class="text-2xl font-bold">La Bizcocheria</h2>
              <p class="mt-1">Pide ahora y llevate 2 barras de pan.</p>
            </div>
          </div>
        </div>
        <div class="carousel-slide absolute inset-0 bg-cover bg-center hidden" style="background-image:url('https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=1400&q=80')">
          <div class="w-full h-full bg-black/30 flex items-end">
            <div class="p-6 text-white">
              <h2 class="text-2xl font-bold">Apoya al comercio de Guadalajara</h2>
              <p class="mt-1">Compra local, vive local.</p>
            </div>
          </div>
        </div>
        <div class="carousel-slide absolute inset-0 bg-cover bg-center hidden" style="background-image:url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1400&q=80')">
          <div class="w-full h-full bg-black/30 flex items-end">
            <div class="p-6 text-white">
              <h2 class="text-2xl font-bold">Reserva en un clic</h2>
              <p class="mt-1">Gestiona tu tiempo con facilidad.</p>
            </div>
          </div>
        </div>
      </div>
      <!-- indicators -->
      <div class="absolute left-1/2 -translate-x-1/2 bottom-4 flex gap-2">
        <button class="carousel-dot w-3 h-3 rounded-full bg-white/60" data-index="0"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white/40" data-index="1"></button>
        <button class="carousel-dot w-3 h-3 rounded-full bg-white/40" data-index="2"></button>
      </div>
    </div>

    <!-- Hero -->
    <main>
      <section class="bg-gradient-to-b from-white to-slate-50">
        <div class="max-w-6xl mx-auto px-4 py-16 sm:py-24 lg:py-32">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
            <div>
              <h1 class="text-3xl sm:text-4xl font-extrabold text-primary">Reserva en comercios locales cerca de ti</h1>
              <p class="mt-4 text-slate-600">Encuentra y reserva franjas horarias en tiendas y servicios locales en España. Mapa interactivo, horarios personalizados y reserva en pocos clics.</p>
              <div class="mt-6">
                <a href="#mapa" class="inline-flex items-center gap-2 bg-accent text-white px-5 py-3 rounded shadow hover:brightness-95">Ver Mapa</a>
                <a href="como-funciona.html" class="ml-3 text-sm text-slate-600">Cómo funciona</a>
              </div>
            </div>
            <div>
              <!-- Mockup o imagen -->
              <div class="w-full h-64 rounded-lg overflow-hidden border">
                <!-- Aquí irá el mapa en móvil/desktop -->
                <div id="map" class="w-full h-full"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Sección de Locales Destacados (3 cards) -->
      <section id="tiendas" class="max-w-6xl mx-auto px-4 py-12">
        <h2 class="text-2xl font-semibold text-primary">Locales Destacados</h2>
        <p class="mt-2 text-slate-600">Pulsa un pin en el mapa o consulta disponibilidad directamente desde estas tarjetas.</p>

        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Card 1 -->
          <article class="bg-white rounded-lg shadow-md overflow-hidden">
            <img src="/img/Captura de pantalla 2026-02-24 160829.png" alt="La Bizcochería" class="w-full h-48 object-cover" />
            <div class="p-4">
              <div class="text-xs text-white bg-accent inline-block px-2 py-1 rounded mb-2">Gastronomía</div>
              <h3 class="font-semibold text-lg text-primary">La Bizcochería</h3>
              <div class="mt-2 flex items-center gap-2 text-sm text-slate-600">
                <div class="flex items-center text-yellow-400">★★★★★</div>
                <div class="text-slate-500">4.8 (125)</div>
              </div>
              <div class="mt-4">
                <a href="tiendas.html" class="inline-flex items-center gap-2 bg-accent text-white px-4 py-2 rounded shadow hover:brightness-95">Ver Disponibilidad</a>
              </div>
            </div>
          </article>

          <!-- Card 2 -->
          <article class="bg-white rounded-lg shadow-md overflow-hidden">
            <img src="/img/calderon.png" alt="Calderon" class="w-full h-48 object-cover" />
            <div class="p-4">
              <div class="text-xs text-white bg-accent inline-block px-2 py-1 rounded mb-2">Deportes</div>
              <h3 class="font-semibold text-lg text-primary">Calderon Sport</h3>
              <div class="mt-2 flex items-center gap-2 text-sm text-slate-600">
                <div class="flex items-center text-yellow-400">★★★★☆</div>
                <div class="text-slate-500">4.5 (98)</div>
              </div>
              <div class="mt-4">
                <a href="tiendas.html" class="inline-flex items-center gap-2 bg-accent text-white px-4 py-2 rounded shadow hover:brightness-95">Ver Disponibilidad</a>
              </div>
            </div>
          </article>

          <!-- Card 3 -->
          <article class="bg-white rounded-lg shadow-md overflow-hidden">
            <img src="/img/vitaldent.png" alt="Clínica Dental Vitaldent" class="w-full h-48 object-cover" />
            <div class="p-4">
              <div class="text-xs text-white bg-accent inline-block px-2 py-1 rounded mb-2">Salud</div>
              <h3 class="font-semibold text-lg text-primary">Clínica Dental Vitaldent</h3>
              <div class="mt-2 flex items-center gap-2 text-sm text-slate-600">
                <div class="flex items-center text-yellow-400">★★★★☆</div>
                <div class="text-slate-500">4.6 (76)</div>
              </div>
              <div class="mt-4">
                <a href="tiendas.html" class="inline-flex items-center gap-2 bg-accent text-white px-4 py-2 rounded shadow hover:brightness-95">Ver Disponibilidad</a>
              </div>
            </div>
          </article>
        </div>

        <!-- Lista dinámica generada por JS (si aplica) -->
        <div class="mt-8" id="listaLocales"></div>
      </section>

      <!-- Nueva Sección: Para Negocios -->
      <section id="paraNegocios" class="mt-16 bg-gradient-to-r from-primary to-blue-900 text-white py-12">
        <div class="max-w-6xl mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl sm:text-4xl font-extrabold">¿Tienes un negocio?</h2>
            <p class="mt-2 text-lg text-blue-100">Digitaliza tus citas con YourTime</p>
          </div>

          <!-- Beneficios en 3 columnas -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-10">
            <!-- Beneficio 1: Visibilidad -->
            <div class="bg-white/10 backdrop-blur-sm p-8 rounded-2xl border border-white/20 hover:bg-white/15 transition">
              <div class="flex items-center justify-center w-16 h-16 rounded-full bg-accent mb-4 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold text-center mb-3">Visibilidad</h3>
              <p class="text-center text-blue-100">Aparece en nuestro mapa y llega a nuevos clientes en tu ciudad.</p>
            </div>

            <!-- Beneficio 2: Gestión Total -->
            <div class="bg-white/10 backdrop-blur-sm p-8 rounded-2xl border border-white/20 hover:bg-white/15 transition">
              <div class="flex items-center justify-center w-16 h-16 rounded-full bg-accent mb-4 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold text-center mb-3">Gestión Total</h3>
              <p class="text-center text-blue-100">Controla tus productos y franjas horarias desde un panel sencillo.</p>
            </div>

            <!-- Beneficio 3: Sin Colas -->
            <div class="bg-white/10 backdrop-blur-sm p-8 rounded-2xl border border-white/20 hover:bg-white/15 transition">
              <div class="flex items-center justify-center w-16 h-16 rounded-full bg-accent mb-4 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-bold text-center mb-3">Sin Colas</h3>
              <p class="text-center text-blue-100">Optimiza la recogida de productos y mejora la experiencia de tu cliente.</p>
            </div>
          </div>

          <!-- CTA Principal -->
          <div class="text-center">
            <button id="btnAbrirFormulario" class="bg-accent text-primary px-8 py-4 rounded-lg font-bold text-lg hover:brightness-90 transition shadow-lg">
              Registra tu Negocio Ahora
            </button>
            <p class="mt-4 text-blue-100 text-sm">Sin compromiso. Validaremos tu local en 24 horas.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer legal -->
    <footer class="bg-black border-t mt-12">
      <div class="max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between text-sm text-white">
        <div>© 2026 YourTime — Todos los derechos reservados</div>
        <div class="flex items-center gap-4 mt-3 md:mt-0">
          <a href="#" class="hover:underline">Política de Privacidad</a>
          <a href="#" class="hover:underline">Términos y Condiciones</a>
          <a href="cookies.html" class="hover:underline">Cookies</a>
        </div>
      </div>
    </footer>

    <!-- Modal para local (enriquecido: banner + catálogo) z-[10000] sobre mapa -->
    <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-[10000]">
      <div id="modalContent" class="bg-white rounded-lg shadow-2xl w-full max-w-3xl overflow-hidden">
        <div class="relative">
          <button id="closeModal" class="absolute right-4 top-4 text-white bg-black/30 rounded-full px-3 py-1">✕</button>
          <!-- Banner con imagen_portada -->
          <div id="modalBanner" class="h-48 bg-cover bg-center"></div>
        </div>
        <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 id="modalTitle" class="text-2xl font-semibold text-primary"></h3>
            <p id="modalHorario" class="mt-2 text-slate-600"></p>
            <p id="modalTelefono" class="mt-1 text-slate-600"></p>
            <div class="mt-4">
              <button id="openReserve" class="text-primary border border-primary px-4 py-2 rounded">Reservar franja</button>
            </div>
          </div>

          <!-- Catálogo: scroll interno -->
          <div>
            <h4 class="font-semibold">Catálogo</h4>
            <div id="catalog" class="mt-3 grid grid-cols-2 gap-3 overflow-y-auto" style="max-height:240px;">
              <!-- Productos insertados desde JS -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Shop full-screen view -->
    <div id="shopView" class="fixed inset-0 z-[2000] hidden bg-white overflow-auto">
      <div class="relative">
        <div id="shopHeader" class="h-56 bg-cover bg-center flex items-end p-4" style="background-color:#002147">
          <button id="backToMap" class="bg-white/90 text-primary px-3 py-2 rounded shadow">← Volver al mapa</button>
          <div class="ml-4 text-white font-bold text-2xl" id="shopTitle"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-4 gap-6">
          <div class="lg:col-span-3">
            <div id="shopLoading" class="p-8 flex items-center justify-center">
              <div class="loader"></div>
            </div>
            <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 hidden"></div>
          </div>

          <!-- Sidebar reserva -->
          <aside id="reserveSidebar" class="hidden lg:block bg-slate-50 border rounded-lg p-4 sticky top-6">
            <h4 class="text-lg font-semibold text-primary">Tu Reserva</h4>
            <div id="cartItems" class="mt-4 space-y-3"></div>

            <div id="slotSelector" class="mt-4">
              <div class="text-sm text-slate-600 mb-2">Selecciona franja:</div>
              <div id="slotOptions" class="flex flex-col gap-2"></div>
            </div>

            <div class="mt-4">
              <button id="confirmReserveShop" class="w-full bg-accent text-white px-4 py-2 rounded font-semibold">Confirmar Reserva</button>
            </div>
          </aside>
        </div>
        <!-- Reserva summary overlay -->
        <div id="reserveSummary" class="fixed inset-0 flex items-center justify-center bg-black/40 hidden z-[2100]">
          <div class="bg-white p-6 rounded-lg text-center max-w-md mx-4">
            <div id="reserveSummaryText" class="text-lg font-semibold text-primary"></div>
            <div class="mt-4"><button id="closeReserveSummary" class="px-4 py-2 bg-accent text-white rounded">Cerrar</button></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Login/Registro (pestañas) z-[10000] sobre todo -->
    <div id="modalAuth" class="fixed inset-0 bg-black/60 hidden z-[10000]" aria-hidden="true">
      <div class="auth-content">
        <div class="auth-box">
          <img src="img/logopng.png" alt="YourTime" class="mx-auto w-28 h-28 object-contain mb-4" />
          <h2 class="text-2xl font-bold text-primary mb-2">Bienvenido a YourTime</h2>
          <p class="text-slate-600 mb-6">Inicia sesión para continuar con tus reservas</p>

          <div class="flex border rounded mb-4 overflow-hidden">
            <button id="tabLogin" class="flex-1 py-3 text-center font-medium">Iniciar sesión</button>
            <button id="tabRegister" class="flex-1 py-3 text-center text-slate-500">Crear cuenta</button>
          </div>

          <div id="authBody">
            <form id="loginForm" class="space-y-3">
              <input id="loginEmail" type="email" placeholder="Correo electrónico" class="w-full border px-3 py-2 rounded" required />
              <input id="loginPassword" type="password" placeholder="Contraseña" class="w-full border px-3 py-2 rounded" required />
              <div class="flex items-center justify-between">
                <button type="submit" class="bg-primary text-white px-4 py-2 rounded">Entrar</button>
                <a href="#" class="text-sm text-slate-600">¿Olvidaste tu contraseña?</a>
              </div>
            </form>

            <form id="registerForm" class="space-y-3 hidden">
              <input id="regName" type="text" placeholder="Nombre" class="w-full border px-3 py-2 rounded" required />
              <input id="regEmail" type="email" placeholder="Correo electrónico" class="w-full border px-3 py-2 rounded" required />
              <input id="regPassword" type="password" placeholder="Contraseña" class="w-full border px-3 py-2 rounded" required />
              <div class="flex items-center justify-end">
                <button type="submit" class="bg-primary text-white px-4 py-2 rounded">Crear cuenta</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Formulario de Registro de Comercios -->
    <div id="modalComercio" class="fixed inset-0 bg-black/60 hidden z-[10000] flex items-center justify-center" aria-hidden="true">
      <div class="bg-white rounded-2xl shadow-2xl w-full max-w-xl mx-4 overflow-hidden">
        <!-- Header del Modal -->
        <div class="bg-gradient-to-r from-primary to-blue-900 px-6 py-8 text-white relative">
          <button id="closeModalComercio" class="absolute right-4 top-4 text-white hover:bg-white/20 rounded-full p-2 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
          <h2 class="text-3xl font-bold">Únete como Comercio</h2>
          <p class="mt-2 text-blue-100">Digitaliza tus citas y llega a más clientes</p>
        </div>

        <!-- Contenido del formulario -->
        <form id="formularioComercio" class="px-6 py-8 space-y-5">
          <!-- Nombre del Negocio -->
          <div>
            <label class="block text-sm font-semibold text-primary mb-2">Nombre del Negocio</label>
            <input 
              id="nombreNegocio" 
              type="text" 
              placeholder="Ej: La Panadería Alcarreña" 
              class="w-full border-2 border-slate-300 px-4 py-3 rounded-lg focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
              required
            />
          </div>

          <!-- Ciudad -->
          <div>
            <label class="block text-sm font-semibold text-primary mb-2">Ciudad</label>
            <select 
              id="ciudadNegocio" 
              class="w-full border-2 border-slate-300 px-4 py-3 rounded-lg focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
              required
            >
              <option value="">Selecciona tu ciudad</option>
              <option value="Guadalajara">Guadalajara</option>
              <option value="Madrid">Madrid</option>
              <option value="Barcelona">Barcelona</option>
              <option value="Valencia">Valencia</option>
              <option value="Sevilla">Sevilla</option>
              <option value="Bilbao">Bilbao</option>
              <option value="Otras">Otras ciudades</option>
            </select>
          </div>

          <!-- Tipo de Comercio -->
          <div>
            <label class="block text-sm font-semibold text-primary mb-2">Tipo de Comercio</label>
            <select 
              id="tipoComercio" 
              class="w-full border-2 border-slate-300 px-4 py-3 rounded-lg focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
              required
            >
              <option value="">Selecciona el tipo</option>
              <option value="Alimentación">Alimentación</option>
              <option value="Salud">Salud</option>
              <option value="Ocio">Ocio y Deportes</option>
              <option value="Tecnología">Tecnología</option>
              <option value="Belleza">Belleza y Bienestar</option>
              <option value="Otros">Otros Servicios</option>
            </select>
          </div>

          <!-- Teléfono de Contacto -->
          <div>
            <label class="block text-sm font-semibold text-primary mb-2">Teléfono de Contacto</label>
            <input 
              id="telefonoComercio" 
              type="tel" 
              placeholder="+34 600 000 000" 
              class="w-full border-2 border-slate-300 px-4 py-3 rounded-lg focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
              required
            />
          </div>

          <!-- Email -->
          <div>
            <label class="block text-sm font-semibold text-primary mb-2">Email</label>
            <input 
              id="emailComercio" 
              type="email" 
              placeholder="contacto@negocio.com" 
              class="w-full border-2 border-slate-300 px-4 py-3 rounded-lg focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/30 transition"
              required
            />
          </div>

          <!-- Botones de acción -->
          <div class="flex gap-3 pt-4">
            <button 
              type="button" 
              id="btnCancelarFormulario"
              class="flex-1 border-2 border-slate-300 text-primary px-4 py-3 rounded-lg font-semibold hover:bg-slate-50 transition"
            >
              Cancelar
            </button>
            <button 
              type="submit" 
              class="flex-1 bg-accent text-primary px-4 py-3 rounded-lg font-semibold hover:brightness-90 transition shadow-lg"
            >
              Enviar Solicitud
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Mensaje de Éxito de Comercios -->
    <div id="modalExitoComercio" class="fixed inset-0 bg-black/60 hidden z-[10001] flex items-center justify-center" aria-hidden="true">
      <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-8 text-center">
        <div class="mx-auto w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-green-600" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-primary mb-3">¡Gracias por tu interés!</h3>
        <p class="text-slate-600 mb-6">Un asesor de YourTime se pondrá en contacto contigo para validar tu local.</p>
        <button 
          id="btnCerrarExito"
          class="w-full bg-accent text-primary px-4 py-3 rounded-lg font-semibold hover:brightness-90 transition"
        >
          Cerrar
        </button>
      </div>
    </div>

    <!-- Contenedor de toasts z-[25000] siempre arriba -->
    <div id="toastContainer" class="fixed top-4 right-4 z-[25000] flex flex-col gap-3"></div>

    <!-- Floating Chatbot Button & Panel -->
    <div id="chatRoot">
      <!-- Botón flotante -->
      <button id="chatFab" aria-label="Abrir Asistente YourTime" class="chat-fab fixed bottom-6 right-6 z-[10000] w-14 h-14 rounded-full flex items-center justify-center shadow-lg focus:outline-none">
        <!-- Icono de mensaje simple -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.75A1.75 1.75 0 013.75 2h16.5A1.75 1.75 0 0122 3.75v12.5A1.75 1.75 0 0120.25 18H6.5L2 22.5V3.75z"/></svg>
      </button>

      <!-- Panel de chat (oculto por defecto) -->
      <div id="chatPanel" class="chat-panel fixed right-6 bottom-24 w-80 md:w-96 max-h-[70vh] rounded-xl overflow-hidden shadow-2xl z-[10000] hidden">
        <div class="chat-header flex items-center justify-between px-4 py-3" style="background-color:#002147;">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white font-bold">YT</div>
            <div class="text-white font-semibold">Asistente YourTime</div>
          </div>
          <div class="flex items-center gap-2">
            <button id="minimizeChat" class="text-white/80 hover:text-white">—</button>
            <button id="closeChat" class="text-white/80 hover:text-white">✕</button>
          </div>
        </div>

        <div id="chatMessages" class="chat-messages bg-white p-3 overflow-auto" style="height:320px;"></div>

        <form id="chatForm" class="chat-input flex items-center gap-2 p-3 border-t bg-white">
          <input id="chatInput" type="text" placeholder="Escribe tu mensaje..." class="flex-1 border rounded-full px-3 py-2 text-sm focus:outline-none" />
          <button type="submit" class="bg-accent text-white px-4 py-2 rounded-full">Enviar</button>
        </form>
      </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- Script de la app -->
    <script src="public/script.js"></script>
  </body>
</html>
